<div class="container-fluid">

  <!-- TOOLBOX -->
  <div class="toolbox">
    <span ng-repeat="codeBlock in codeBlocks">
      <div class="codeBlock" ng-drag="true" ng-drag-data="codeBlock" data-allow-transform="true" ng-drag-success="onDragFromToolbox()">
        <span id="variableType">{{codeBlock.type}}</span>
      </div>
    </span>
  </div>

  <!-- CANVAS -->
  <div class="canvasArea" ng-drop="true" ng-drop-success="onDrop($data, $event)">

    <!-- CODE BLOCK NG-REPEAT CONTAINER -->
    <div ng-prevent-drag="true" ng-repeat="codeBlock in droppedCodeBlocks track by $index" ng-drag="true" ng-drag-data="codeBlock" ng-switch="codeBlock.type">

      <!-- VARIABLE CODE BLOCK -->
     <li> <div ng-switch-when="variable" class="codeBlockDropped" ng-model="codeBlock" name="codeBlock" ng-drag-data="codeBlock" ng-drag="isCodeBlockDraggable" ng-drag-success="onDragFromCanvas()">

        <!-- CODE BLOCK NAME -->
        <div id="variableName" ng-click="showNameForm = showNameForm ? false : true; turnOnDrag()">
          {{codeBlock.name}}
        </div>

        <div id="variableValue" ng-click="showValueForm = showValueForm ? false : true; turnOnDrag()">
          {{codeBlock.value}}
        </div>

        <!-- CODEBLOCK NAME FORM -->
        <form ng-if="showNameForm" ng-submit="setVariable(codeBlock, name, val, $event)">
          <input placeholder="Enter name..." ng-model="name" name="name" id="name" type="text" ng-click="turnOffDrag()">
        </form>

        <form ng-if="showValueForm" ng-submit="setVariable(codeBlock, name, val, $event)">
          <input placeholder="Enter value..." ng-model="val" name="val" id="val" type="text" ng-click="turnOffDrag()">
        </form>
      </div></li>

      <!-- ARRAY CODE BLOCK -->
      <div ng-switch-when="array" ng-drag="true" ng-drop="true" ng-drop-success="codeBlock.push($data)" ng-drag-data="codeBlock" class="codeBlockDropped" ng-drag-success="onDragFromCanvas()">
        <div id="variableName" ng-click="showNameForm = showNameForm ? false : true">
          {{codeBlock.name}}
        </div>

        <div id="variableValue" ng-click="showValueForm = showValueForm ? false : true">
          {{codeBlock.value}}
        </div><div id="popArray" ng-click="codeBlock.pop()">Pop!</div>
      </div>

        <div ng-switch-when="object" ng-drag="true" ng-drop="true" ng-drop-success="codeBlock.setValue($data)" ng-model="codeBlock" name="codeBlock"  ng-drag-data="codeBlock" class="codeBlockDropped" ng-drag-success="onDragFromCanvas()">
          <div id="objectKey" ng-click="showKeyForm = showKeyForm ? false : true">
            {{codeBlock.key}}
          </div>
          <div id="objectValue" ng-click="showKeyForm = showKeyForm ? false : true">
            {{codeBlock.value}}
          </div>
        </div>
      </div>

    </div>
  </div>

  <!-- COMPILED CODE AREA -->
  <div class="codeArea">
    <pre id="code">{{code}}</pre>
  </div>

</div>